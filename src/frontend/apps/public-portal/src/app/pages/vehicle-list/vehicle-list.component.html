<div class="hero">
  <h1>{{ 'vehicles.title' | translate }}</h1>
  <p class="subtitle">{{ 'vehicles.subtitle' | translate }}</p>
</div>

<!-- Reusable Vehicle Search Component -->
<app-vehicle-search (searchSubmit)="onSearch($event)" />

<!-- Loading State -->
@if (loading()) {
  <ui-loading-state [message]="'common.messages.loading' | translate"></ui-loading-state>
}

<!-- Error State -->
@if (error()) {
  <ui-error-state
    [message]="error()!"
    [showRetry]="true"
    (retry)="onSearch(currentSearchQuery())"
  ></ui-error-state>
}

<!-- Results Count -->
@if (!loading() && !error() && totalCount() > 0) {
  <div class="results-count">
    <lib-icon name="car-filled" variant="filled" size="sm" />
    <span>
      @if (totalCount() === 1) {
        {{ 'vehicles.results.found' | translate: { count: totalCount() } }}
      } @else {
        {{ 'vehicles.results.foundPlural' | translate: { count: totalCount() } }}
      }
    </span>
  </div>
}

<!-- Vehicles Grid -->
@if (!loading() && vehicles().length > 0) {
  <div class="vehicles-grid">
    @for (vehicle of vehicles(); track vehicle.id) {
      <ocr-vehicle-card
        [vehicle]="vehicle"
        variant="browse"
        [showLocation]="true"
        (action)="onBookVehicle($event)"
      />
    }
  </div>
}

<!-- No Results -->
@if (!loading() && vehicles().length === 0 && !error()) {
  <ui-empty-state
    icon="search"
    [title]="'vehicles.results.noResults' | translate"
    [description]="'vehicles.results.noResultsHint' | translate"
  ></ui-empty-state>
}
