<form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="vehicle-search-form">
  <!-- Date Range Section -->
  <div class="search-section">
    <h3 class="section-title">Mietdauer</h3>
    <div class="date-range-group">
      <!-- Pickup Date & Time -->
      <div class="date-time-group">
        <label for="pickupDate" class="form-label">
          <lib-icon name="calendar-filled" variant="filled" size="sm" class="label-icon" />
          Abholung
        </label>
        <div class="date-time-inputs">
          <input
            type="date"
            id="pickupDate"
            formControlName="pickupDate"
            [min]="today"
            class="form-input date-input"
            required
          />
          <input
            type="time"
            formControlName="pickupTime"
            class="form-input time-input"
            required
          />
        </div>
      </div>

      <!-- Return Date & Time -->
      <div class="date-time-group">
        <label for="returnDate" class="form-label">
          <lib-icon name="calendar-filled" variant="filled" size="sm" class="label-icon" />
          Rückgabe
        </label>
        <div class="date-time-inputs">
          <input
            type="date"
            id="returnDate"
            formControlName="returnDate"
            [min]="minReturnDate()"
            class="form-input date-input"
            required
          />
          <input
            type="time"
            formControlName="returnTime"
            class="form-input time-input"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <!-- Vehicle Filters Section -->
  <div class="search-section">
    <h3 class="section-title">Fahrzeugfilter</h3>
    <div class="filters-grid">
      <!-- Location -->
      <div class="filter-group">
        <label for="location" class="form-label">
          <lib-icon name="location-marker-filled" variant="filled" size="sm" class="label-icon" />
          Standort
        </label>
        <ui-select-location
          id="location"
          formControlName="locationCode"
          placeholder="Alle Standorte"
          cssClass="form-input"
        />
      </div>

      <!-- Category -->
      <div class="filter-group">
        <label for="category" class="form-label">
          <lib-icon name="car-filled" variant="filled" size="sm" class="label-icon" />
          Fahrzeugklasse
        </label>
        <ui-select-category
          id="category"
          formControlName="categoryCode"
          placeholder="Alle Klassen"
          cssClass="form-input"
        />
      </div>

      <!-- Fuel Type -->
      <div class="filter-group">
        <label for="fuel" class="form-label">
          <lib-icon name="fuel" variant="filled" size="sm" class="label-icon" />
          Kraftstoffart
        </label>
        <ui-select-fuel-type
          id="fuel"
          formControlName="fuelType"
          placeholder="Alle"
          cssClass="form-input"
        />
      </div>

      <!-- Transmission -->
      <div class="filter-group">
        <label for="transmission" class="form-label">
          <lib-icon name="transmission" variant="filled" size="sm" class="label-icon" />
          Getriebe
        </label>
        <ui-select-transmission
          id="transmission"
          formControlName="transmissionType"
          placeholder="Alle"
          cssClass="form-input"
        />
      </div>

      <!-- Min Seats -->
      <div class="filter-group">
        <label for="minSeats" class="form-label">
          <lib-icon name="seats" variant="filled" size="sm" class="label-icon" />
          Min. Sitze
        </label>
        <ui-select-seats
          id="minSeats"
          formControlName="minSeats"
          placeholder="Alle"
          cssClass="form-input"
        />
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button type="submit" class="btn btn-primary" [disabled]="searchForm.invalid">
      <lib-icon name="search-filled" variant="filled" size="sm" class="btn-icon" />
      Verfügbare Fahrzeuge suchen
    </button>
    <button type="button" class="btn btn-secondary" (click)="onReset()">
      <lib-icon name="refresh-filled" variant="filled" size="sm" class="btn-icon" />
      Zurücksetzen
    </button>
  </div>
</form>
